const DEFAULTS={enableEffect:!0};const statusEl=document.getElementById('status');const toggle=document.getElementById('toggle');const openOptions=document.getElementById('openOptions');function setStatus(t){statusEl.textContent=t}async function load(){const t=await chrome.storage.sync.get(DEFAULTS);toggle.checked=!!t.enableEffect,setStatus(`Efeito: ${toggle.checked?'ATIVADO':'DESATIVADO'}`)}toggle.addEventListener('change',async()=>{await chrome.storage.sync.set({enableEffect:toggle.checked}),setStatus(`Efeito: ${toggle.checked?'ATIVADO':'DESATIVADO'}`);try{chrome.action.setBadgeText({text:toggle.checked?'ON':'OFF'}),chrome.action.setBadgeBackgroundColor({color:toggle.checked?'#10b981':'#6b7280'}),chrome.tabs.query({url:'https://developer.chrome.com/*'},t=>{t.forEach(t=>chrome.tabs.sendMessage(t.id,{type:'BH_SETTINGS_UPDATED'}))})}catch(t){}}),openOptions.addEventListener('click',()=>chrome.runtime.openOptionsPage()),load();